
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>DEiC’s sciencedata.dk &#8212; cedhar 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="Epigraphic Database Heidelberg" href="Epigraphic.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Epigraphic.html" title="Epigraphic Database Heidelberg"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cedhar 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/CEDHAR_logo_black_large_800x100.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">DEiC’s sciencedata.dk</a><ul>
<li><a class="reference internal" href="#accessing-deic-s-sciencedata-dk-using-r">Accessing DEiC’s sciencedata.dk using R</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#additional-parameters">Additional parameters</a></li>
<li><a class="reference internal" href="#arguments">Arguments</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#method-get">Method GET</a></li>
<li><a class="reference internal" href="#method-put">Method PUT</a></li>
<li><a class="reference internal" href="#method-delete">Method DELETE</a></li>
<li><a class="reference internal" href="#method-post">Method POST</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Epigraphic.html"
                        title="previous chapter">Epigraphic Database Heidelberg</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="modules.html"
                        title="next chapter">Modules</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Sciencedata_dk.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="deic-s-sciencedata-dk">
<h1>DEiC’s sciencedata.dk<a class="headerlink" href="#deic-s-sciencedata-dk" title="Permalink to this headline">¶</a></h1>
<p>Accessing DEiC’s <a class="reference external" href="https:\sciencedata.dk">sciencedata.dk</a>  needs another tools…</p>
<p>This is basically a HTTP request…</p>
<div class="section" id="accessing-deic-s-sciencedata-dk-using-r">
<h2>Accessing DEiC’s sciencedata.dk using R<a class="headerlink" href="#accessing-deic-s-sciencedata-dk-using-r" title="Permalink to this headline">¶</a></h2>
<p>Function <a class="reference external" href="https://github.com/sdam-au/cedhar/blob/master/code/request.r">request()</a> is aimed to interact first with DEiC’s sciencedata.dk with a current version 0.1 (19-01-2020)</p>
<p>This function requires the <code class="docutils literal notranslate"><span class="pre">R</span></code> package <code class="docutils literal notranslate"><span class="pre">&quot;httr&quot;</span></code> and, in case to use an authentification, package <code class="docutils literal notranslate"><span class="pre">&quot;tcltk&quot;</span></code> may be needed as well.</p>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="n">file</span>
          <span class="p">,</span><span class="n">URL</span><span class="o">=</span><span class="s2">&quot;https://sciencedata.dk&quot;</span>
          <span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span><span class="s2">&quot;DELETE&quot;</span><span class="p">)</span>
          <span class="p">,</span><span class="n">authenticate</span><span class="o">=</span><span class="n">TRUE</span>
          <span class="p">,</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/files&quot;</span>
          <span class="p">,</span><span class="n">cred</span><span class="o">=</span><span class="n">NULL</span>
          <span class="p">,</span><span class="n">subdomain</span><span class="o">=</span><span class="n">NULL</span>
          <span class="p">,</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><cite>file</cite> (object under ‘method’)</p></li>
<li><p><cite>URL</cite> (protocol and domain of the url)</p></li>
<li><p><cite>method</cite> (the http “verb” for the object)</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;GET&quot;</span></code> (list)</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;POST&quot;</span></code> (place)</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;PUT&quot;</span></code> (update)</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;DELETE&quot;</span></code> (cancel)</p>
</div></blockquote>
</li>
<li><p><cite>authenticate</cite> (logical, use basic authentication?)</p></li>
<li><p><cite>path</cite> (optional, add path to the url)</p></li>
</ul>
</div>
<div class="section" id="additional-parameters">
<h3>Additional parameters<a class="headerlink" href="#additional-parameters" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><cite>cred</cite> (vector for username and password credentials)</p></li>
<li><p><cite>subdomain</cite> (optional, add subdomain to the url)</p></li>
<li><p><cite>…</cite> (extra parameters if required)</p></li>
</ul>
</div>
<div class="section" id="arguments">
<h3>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h3>
<p>Arguments of <code class="docutils literal notranslate"><span class="pre">request</span></code> are retrieved with <code class="docutils literal notranslate"><span class="pre">formals</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span><span class="o">&gt;</span> <span class="n">formals</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="c1">#$file</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#$URL</span>
<span class="c1">#[1] &quot;https://sciencedata.dk&quot;</span>
<span class="c1">#</span>
<span class="c1">#$method</span>
<span class="c1">#c(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)</span>
<span class="c1">#</span>
<span class="c1">#$authenticate</span>
<span class="c1">#[1] TRUE</span>
<span class="c1">#</span>
<span class="c1">#$cred</span>
<span class="c1">#NULL</span>
<span class="c1">#</span>
<span class="c1">#$path</span>
<span class="c1">#[1] &quot;/files&quot;</span>
<span class="c1">#</span>
<span class="c1">#$subdomain</span>
<span class="c1">#NULL</span>
</pre></div>
</div>
</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<p>The output depends on the method to be used in the request.</p>
</div>
<div class="section" id="details">
<h3>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h3>
<p>There are two types of folders in DEiC’s <a class="reference external" href="https:\sciencedata.dk">sciencedata.dk</a> that are <cite>personal</cite> and <cite>shared</cite> folders and both requires authentication with credentials.</p>
<p>The <cite>path</cite> to the shared folders where the files are located must be specified with the <code class="docutils literal notranslate"><span class="pre">path</span></code> argument. However, for personal folders is the <code class="docutils literal notranslate"><span class="pre">file</span></code> argument that includes the path information.</p>
<p>That is, an <code class="docutils literal notranslate"><span class="pre">R</span></code> code will be like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># personal folders</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;path/file&quot;</span><span class="p">)</span>

<span class="c1"># shared folders</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/path&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>NB:</em> <code class="docutils literal notranslate"><span class="pre">R&gt;</span></code> at the beginning of the line means that the following code is written in R. Comments are preceded by <code class="docutils literal notranslate"><span class="pre">#</span></code>.</p>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Some examples are given here, and recall that with all types of folder it is needed to perform basic authentication <em>with the username and password used in ‘sciencedata.dk’ settings</em>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># if you want to avoid a dialog box then save your credentials</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">cred</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;YOUR-AUID@au.dk&quot;</span><span class="p">,</span> <span class="s2">&quot;YOURPASSWORD&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, you do not need to use the widget toolkit <code class="docutils literal notranslate"><span class="pre">&quot;tcltk&quot;</span></code> anymore.</p>
<div class="section" id="method-get">
<h4>Method GET<a class="headerlink" href="#method-get" title="Permalink to this headline">¶</a></h4>
<p>This method is for accessing the files with the data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># for personal data (in case you have this file)</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;df.json&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1">#[1] {&quot;a&quot;:{&quot;0&quot;:&quot;a1&quot;,&quot;1&quot;:&quot;a2&quot;},&quot;b&quot;:{&quot;0&quot;:&quot;b1&quot;,&quot;1&quot;:&quot;b2&quot;},&quot;c&quot;:{&quot;0&quot;:&quot;c1&quot;,&quot;1&quot;:&quot;c2&quot;}}</span>



<span class="c1"># for shared folders (example Vojtech test folder), where both options work</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;df.json&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/sharingin/648597@au.dk/TEST_shared_folder/&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1">#[1] {&quot;a&quot;:{&quot;0&quot;:&quot;a1&quot;,&quot;1&quot;:&quot;a2&quot;},&quot;b&quot;:{&quot;0&quot;:&quot;b1&quot;,&quot;1&quot;:&quot;b2&quot;},&quot;c&quot;:{&quot;0&quot;:&quot;c1&quot;,&quot;1&quot;:&quot;c2&quot;}}</span>


<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;df.json&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;sharingin/648597@au.dk/TEST_shared_folder&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1">#[1] {&quot;a&quot;:{&quot;0&quot;:&quot;a1&quot;,&quot;1&quot;:&quot;a2&quot;},&quot;b&quot;:{&quot;0&quot;:&quot;b1&quot;,&quot;1&quot;:&quot;b2&quot;},&quot;c&quot;:{&quot;0&quot;:&quot;c1&quot;,&quot;1&quot;:&quot;c2&quot;}}</span>
</pre></div>
</div>
</div>
<div class="section" id="method-put">
<h4>Method PUT<a class="headerlink" href="#method-put" title="Permalink to this headline">¶</a></h4>
<p>The URL typically includes a <cite>subdomain</cite> as well that is named <cite>silo</cite> followed by a number. E.g. my documents are located in <code class="docutils literal notranslate"><span class="pre">silo1.sciencedata.dk</span></code> and other that will follow will be at <code class="docutils literal notranslate"><span class="pre">silo2</span></code> etc.
For method <code class="docutils literal notranslate"><span class="pre">PUT</span></code> the sundomain is <em>mandatory</em>; otherwise the request is redirected with <code class="docutils literal notranslate"><span class="pre">Status:</span> <span class="pre">307</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># for personal data (in my case) I need to specify the subdomain; otherwise it gets redirected!</span>

<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="s2">&quot;CITATION&quot;</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1"># Response [https://sciencedata.dk/files/CITATION]</span>
<span class="c1">#  Date: 2020-01-17 13:31</span>
<span class="c1">#  Status: 307</span>
<span class="c1">#  Content-Type: text/html; charset=UTF-8</span>
<span class="c1">#&lt;EMPTY BODY&gt;</span>

<span class="c1"># (my data is in subdomain &quot;silo1&quot;)</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="s2">&quot;CITATION&quot;</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">,</span> <span class="n">subdomain</span><span class="o">=</span><span class="s2">&quot;silo1&quot;</span><span class="p">)</span>

<span class="c1"># Response [https://silo1.sciencedata.dk/files/CITATION]</span>
<span class="c1">#  Date: 2020-01-17 13:31</span>
<span class="c1">#  Status: 201</span>
<span class="c1">#  Content-Type: text/html; charset=UTF-8</span>
<span class="c1">#&lt;EMPTY BODY&gt;</span>



<span class="c1"># the PUT method for a shared folder needs &#39;sharingout&#39; in the path or it gets redirected</span>

<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="s2">&quot;CITATION&quot;</span><span class="p">),</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;sharingin/648597@au.dk/TEST_shared_folder&quot;</span><span class="p">,</span>
<span class="o">+</span>    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1"># Response [https://sciencedata.dk/sharingin/648597@au.dk/TEST_shared_folder/CITATION]</span>
<span class="c1">#  Date: 2020-01-17 13:34</span>
<span class="c1">#  Status: 307</span>
<span class="c1">#  Content-Type: text/html; charset=UTF-8</span>
<span class="c1">#&lt;EMPTY BODY&gt;</span>


<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="s2">&quot;CITATION&quot;</span><span class="p">),</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;sharingout/648597@au.dk/TEST_shared_folder&quot;</span><span class="p">,</span>
<span class="o">+</span>    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1">#Response [https://sciencedata.dk/sharingout/648597%40au.dk/TEST_shared_folder//CITATION]</span>
<span class="c1">#  Date: 2020-02-10 09:32</span>
<span class="c1">#  Status: 201</span>
<span class="c1">#  Content-Type: text/html; charset=UTF-8</span>
<span class="c1">#&lt;EMPTY BODY&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="method-delete">
<h4>Method DELETE<a class="headerlink" href="#method-delete" title="Permalink to this headline">¶</a></h4>
<p>In the case of accesing with a request using methods <code class="docutils literal notranslate"><span class="pre">GET</span></code> or <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, the path in the url is followed by <code class="docutils literal notranslate"><span class="pre">sharingin/userid/foldername</span></code>, and for <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> the Response is given with <code class="docutils literal notranslate"><span class="pre">sharingout</span></code> in the path.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># for personal data</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;CITATION&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1"># In my case, this is in</span>
<span class="c1">#[1] &quot;https://silo1.sciencedata.dk/files/CITATION&quot;</span>



<span class="c1"># for shared folders (example Vojtech test folder)</span>
<span class="n">R</span><span class="o">&gt;</span> <span class="n">request</span><span class="p">(</span><span class="s2">&quot;df.json&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/sharingin/648597@au.dk/TEST_shared_folder/&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="o">=</span><span class="n">cred</span><span class="p">)</span>

<span class="c1">#[[1]]</span>
<span class="c1">#[1] &quot;https://sciencedata.dk/sharingout/648597%40au.dk/TEST_shared_folder/df.json&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="method-post">
<h4>Method POST<a class="headerlink" href="#method-post" title="Permalink to this headline">¶</a></h4>
<p>Finally, there is also the possibility to <em>place</em> files with the <code class="docutils literal notranslate"><span class="pre">POST</span></code> method. However, this is not yet implemented in sciencedata.dk</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOT YET IMPLEMENTED IN sciencedata.dk</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             >next</a> |</li>
        <li class="right" >
          <a href="Epigraphic.html" title="Epigraphic Database Heidelberg"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cedhar 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, CEDHAR - Aarhus University.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>